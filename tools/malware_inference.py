import glob
import re

folder_path = "logs/log_inference"
inference_files = glob.glob(folder_path + "/*.txt")
cnt = 0

name_files = set()
for inference_file in inference_files:
    print(inference_file)
    with open(inference_file, "r") as f:
        for line in f:
            if "Inference decision" in line:
                cnt += 1
                pattern = r'file_name: (\S+),'
                sentence = line
                # Use re.search to find the pattern in the sentence
                match = re.search(pattern, sentence)
                # Check if a match was found and extract the result
                if match:
                    result = match.group(1)
                    name_files.add(result)
                    print(result)
                else:
                    print("No match found")
                print(line.strip())
print(cnt)
print(len(name_files))
print(name_files)